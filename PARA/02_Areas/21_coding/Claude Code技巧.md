---
tags: [vibe-coding, claude-code, 编程, workflow]
date: 2026-02-02
status: seed
aliases:
  - "Vibe coding使用技巧"
  - "Claude Code技巧"
para: area
created: 2026-02-07
updated: 2026-02-11
---
> [!summary]
> - 用 `git worktree` 并行跑多个会话，用空间换时间
> - 复杂任务先写计划（TDD，接口契约，上下文预算，递归分解）
> - 维护 `CLAUDE.md`，把规则和经验沉淀成项目资产
> - 把高频重复动作做成 Skill，减少重复性劳务

## 多并行处理

同时启动多个Git 工作树，每个工作树并行运行独立Claude会话

用 git 管理文件变动， 用工作树隔离工作流，同时还能特化专门对话进行处理日志，执行大数据查询，或者验证其他对话的产出

***用空间换时间***


## 先做好计划

执行复杂任务时，先做好计划，通过计划来让CC一次性完成任务

- ***测试驱动开发***
  **操作**：在 AI 给出的初步计划后，追问：“假设这个方案在生产环境中彻底失败了，最可能的 3 个原因是什么？请根据这些原因重构你的计划。”
  意义：验证前移，很多时候代码逻辑没错，但“验证逻辑”错了。如果AI在写代码前没有想清楚如何验证，它可能会写出看起来能运行但逻辑上有死角的代码。
- ***接口驱动开发***
  **操作**：要求 AI 先定义 API 签名、数据库`Schema`或 `Typescript` 接口，并为此生成一份 `CONTRACT.md`。
  意义：这为后续的 Parallel Worktrees 提供了物理上的“对齐标准”。只要契约不变，不同树上的 AI 就不会跑偏。
- ***上下文预算规划***
  **操作**：在正式解决问题前，要求 AI 列出一份“信息需求清单”。“为了完成这个任务，我需要读取哪 5 个核心文件？需要哪部分的运行日志？”    
  意义：避免将无效垃圾信息喂给 AI，从而减少因“注意力分散”导致的逻辑混乱。
- ***递归分解计划***
  将“计划”本身视为可无限拆分的树状结构
  **操作**：采用“广度优先”而非“深度优先”。先列出 5 个大步骤，然后对每个大步骤再要求一份详细的子计划。在子计划被确认前，严禁进入代码编写阶段。


## 认真维护`CLAUDE.md`

认真完善项目中的`CLAUDE.md`，在每次修改后，让Claude更新一次文档，避免犯同样错误，Claude非常擅长为自己编写规则，维护文档能显著降低Claude code的错误率。

比如，可以在项目中维护一个备注目录，并在每次提交请求后更新，再将`CLAUDE.md`指向这个目录，实现动态知识库，构建一个基于文件系统的自进化 RAG (检索增强生成) 索引。


## 技能即资产

如果一个动作每天重复超过一次，必须将其转化为 Skill。消灭重复性劳务，降低自动化门槛，将AI从被动接受指令转变成主动执行脚本

- `/techdebt`：每次会话结束时跑一遍，用来找出并清理重复代码
- `/slash`：把最近 7 天的 Slack、GDrive、Asana、GitHub 同步到一个上下文转存文件中
- `/analyse`：编写数据库策略模型、审查代码并测试开发环境中的变更

## 相信 Claude

相信 Claude 能修复大部分bug， bug 信息贴给 Claude，只说一句 “fix”，完全不需要切来切去。

或者直接说：“去修 failing 的 CI tests。”别告诉它怎么修，别微操。

把 Claude 指向 docker logs 来排查分布式系统问题——它在这方面强得出乎意料。


## 增强提示能力

a. 考验 Claude：比如说“对这些改动狠狠审问我，只有我通过你的测试你才准发 PR。”让 Claude 当你的 reviewer。或者说：“证明给我看这能跑”，让它比较 main 分支和你的 feature 分支的行为差异（diff 行为）。

b. 当修得一般般时，直接说：“基于你现在已经知道的一切，把这套方案扔掉，重新实现一个优雅的解法。”

c. 交付前先写清楚规格说明（spec），尽量减少歧义。你越具体，输出越好。

## 终端与环境配置

团队很喜欢 Ghostty！好几个人喜欢它的 synchronized rendering（同步渲染）、24-bit color（24 位色）以及完善的 Unicode 支持。

为了更轻松地“多 Claude 调度”，用 `/statusline` 自定义状态栏，让它始终显示上下文用量和当前 git 分支。我和团队中的很多人还会给终端标签页上色并命名，有时会用 tmux——一个任务/工作树一个 tab。

用语音输入（voice dictation）。你说话速度比打字快 3 倍，而且因此你的提示词会更细更完整。（macOS 上按 fn 两次）


## 使用子代理

a. 只要你希望 Claude 在问题上投入更多算力，就在请求末尾加一句 “use subagents”。

b. 把单独的小任务丢给 subagents，保持主 agent 的上下文窗口更干净、更聚焦。

c. 用 hook 把权限请求路由到 Opus 4.5：让它扫描攻击并自动批准安全请求（见


## 用 Claude 分析数据

让 Claude Code 使用 “bq” CLI 随时拉取并分析指标。

这个思路适用于任何提供 CLI、MCP 或 API 的数据库。


## 用 Claude 学习

a. 在 `/config` 启用 “Explanatory” 或 “Learning” 输出风格，让 Claude 解释它改动背后的 *why*。

b. 让 Claude 生成一个可视化的 HTML presentation 来讲解陌生代码——它做出来的幻灯片意外地好。

c. 让 Claude 用 ASCII 画协议/代码库结构图，帮助你快速理解。

d. 做一个 spaced-repetition（间隔复习）学习 skill：你先讲自己的理解，Claude 追问补缺口，并把结果存下来。

# Claude Code 常见工作流程